<app-header [title]="'Mesa'"></app-header>

<ion-content>
  <div class="full-screen centrar-columna">
    
    <h1 class="orderPrice">${{this.orderPrice}}</h1>

    <div class="carta-frame">
        <ion-segment value="default">
          <ion-segment-button value="default" (click)="this.showAll()">
            <ion-label>Todo</ion-label>
          </ion-segment-button>
          <ion-segment-button value="food" (click)="this.showFood()">
            <ion-label>Comidas</ion-label>
          </ion-segment-button>
          <ion-segment-button value="drink" (click)="this.showDrink()">
            <ion-label>Bebidas</ion-label>
          </ion-segment-button>
        </ion-segment>
        
      <div class="carta">
        @for (product of products; track $index) 
        {
          @if((this.canShowDrink && !product.isFood) || (this.canShowFood && product.isFood))
          {
            <div [className]="product.isFood ? 'foodCard' : 'drinkCard'">
              <div class="carrusel">
                @for (foto of product.photoUrl; track $index) 
                {
                  <img [src]="foto">
                }
              </div>
          
              <h1 class="info-color-1">{{product.name}}</h1>
              <h1 class="info-color-2">${{product.price}}</h1>
              <h1 class="info-color-1">Elaboracion: {{product.time}} minuto/s</h1>
              <p class="info-color-2">{{product.description}}</p>

              <ion-button (click)="true" expand="block" fill="solid" color="success">
                <h1>Pedir +1</h1>
              </ion-button>
            
              <ion-button (click)="true" expand="block" fill="solid" color="danger">
                <h1>Sacar -1</h1>
              </ion-button>
            </div>
          }
        }
      </div>
    </div>

    <ion-button class="consultar-mozo" id="order-modal" fill="solid" color="light">
      <h1>Revisar pedido</h1>
      <ion-icon slot="start" name="pizza-outline"></ion-icon>
    </ion-button>

    <ion-button class="consultar-mozo" id="chat-modal" fill="solid" color="light">
      <h1>Consultar al mozo</h1>
      <ion-icon slot="end" name="chatbubble-ellipses-outline"></ion-icon>
    </ion-button>
  </div>


  <ion-modal #modal trigger="chat-modal">
    <ng-template>
      <ion-header>
        <ion-toolbar class="modal-toolbar"> 
          <ion-buttons slot="start">
            <ion-button fill="solid" (click)="modal.dismiss()">
              <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
            </ion-button>
          </ion-buttons>

          <ion-title style="text-align: end;">Chat</ion-title>
        </ion-toolbar>
      </ion-header>
      
      <app-chat style="height: 100%;"></app-chat>
    </ng-template>
  </ion-modal>
  <!--
  <ion-modal #modal trigger="open-modal" [presentingElement]="presentingElement">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Modal</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="modal.dismiss()">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content>
          <ion-list>
            <ion-item>
              <ion-avatar slot="start">
                <ion-img src="https://i.pravatar.cc/300?u=b"></ion-img>
              </ion-avatar>
              <ion-label>
                <h2>Connor Smith</h2>
                <p>Sales Rep</p>
              </ion-label>
            </ion-item>
            <ion-item>
              <ion-avatar slot="start">
                <ion-img src="https://i.pravatar.cc/300?u=a"></ion-img>
              </ion-avatar>
              <ion-label>
                <h2>Daniel Smith</h2>
                <p>Product Designer</p>
              </ion-label>
            </ion-item>
            <ion-item>
              <ion-avatar slot="start">
                <ion-img src="https://i.pravatar.cc/300?u=d"></ion-img>
              </ion-avatar>
              <ion-label>
                <h2>Greg Smith</h2>
                <p>Director of Operations</p>
              </ion-label>
            </ion-item>
            <ion-item>
              <ion-avatar slot="start">
                <ion-img src="https://i.pravatar.cc/300?u=e"></ion-img>
              </ion-avatar>
              <ion-label>
                <h2>Zoey Smith</h2>
                <p>CEO</p>
              </ion-label>
            </ion-item>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-modal>
  -->
</ion-content>
